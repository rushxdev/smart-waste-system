# Smart Waste System — Project Index

This file is an autogenerated index of the repository to help you navigate the codebase quickly.

## Repositories & Purpose
- backend/: Express + TypeScript API, MongoDB (Mongoose). Contains controllers, services, repositories, routes, models, and tests.
- frontend/: React + Vite + TypeScript SPA. UI components, features, and services to call backend APIs.

## Top-level scripts
- backend/package.json
  - dev: tsx watch ./src/server.ts (development server)
  - start: node dist/server.js (production after build)
  - build: tsc
  - test: jest --coverage

- frontend/package.json
  - dev: vite
  - build: tsc -b && vite build
  - preview: vite preview
  - test: jest --coverage

## Backend — key files
- backend/src/server.ts — loads .env, connects to MongoDB, starts the HTTP server.
- backend/src/app.ts — configures Express app, middlewares, and mounts routes.
- backend/src/config/db.ts — database connection helper (mongoose).
- backend/src/config/env.ts — environment helpers (if present).

### Controllers
- backend/src/controllers/*.ts — request handlers for each domain
  - auth.controller.ts
  - payment.controller.ts
  - schedule.controller.ts
  - wasteRequest.controller.ts
  - wasteTracking.controller.ts
  - analytics.controller.ts

### Services
- backend/src/services/*.ts — business logic layer
  - auth.service.ts, payment.service.ts, schedule.service.ts, wasteRequest.service.ts, wasteTracking.service.ts, analytics.service.ts

### Repositories (data access)
- backend/src/repositories/*.ts — abstraction over DB operations
  - user.repository.ts, payment.repository.ts, schedule.repository.ts, mock.schedule.repository.ts, wasteRequest.repository.ts, wasteTracking.repository.ts

### Models & Types
- backend/src/models/*.ts — Mongoose models
- backend/src/types/*.ts — domain types (e.g., schedule.types.ts)

### Routes
- backend/src/routes/*.ts — express routers mounted in `app.ts`

### Tests
- backend/tests/**/*.test.ts — Jest tests for services (schedule, wasteRequest, wasteTracking)

## Frontend — key files
- frontend/src/main.tsx — React entry
- frontend/src/App.tsx — app root / routing
- frontend/src/app/AuthContext.tsx — authentication context provider
- frontend/src/services/*.ts — HTTP clients and API wrappers (axiosInstance.ts, scheduleService.ts, wasteService.ts, analyticsService.ts)
- frontend/src/features/waste/components — many UI views for schedule, pickups, optimization, team overview, etc.
- frontend/public/ — static images and assets

## Notable configs
- backend/tsconfig.json — TypeScript config for backend
- backend/jest.config.js — Jest config for backend tests
- frontend/vite.config.ts, frontend/tsconfig*.json — frontend build configs

## How to run (quick)
1. Backend (development)
   - cd backend
   - npm install (if not installed)
   - npm run dev
   Note: server reads .env from backend/src/.. (server.ts logs the .env path). Ensure MONGO_URI and JWT_SECRET are set.

2. Frontend (development)
   - cd frontend
   - npm install (if not installed)
   - npm run dev

## Next steps and optional deeper indexing
- Generate a dependency graph (module-level) for backend services -> controllers -> routes.
- Extract TODOs, code owners, and hot spots (files with many changes or TODO comments).
- Create a quick API reference mapping routes to controllers and services.

If you'd like, I can:
- produce a route → controller → service mapping (automatic scan), or
- generate an interactive dependency graph, or
- add short descriptions for each file by reading file headers.

---
Generated on: 2025-10-17
